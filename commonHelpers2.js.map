{"version":3,"file":"commonHelpers2.js","sources":["../src/js/2-form.js"],"sourcesContent":["\n\n\n\n\n\nconst formEl = document.querySelector(\".feedback-form\");\nconst localStorageKey = \"feedback-form-state\";\n\nformEl.addEventListener('input', onInputForm);\nformEl.addEventListener('submit', onSabmitForm);\n\nrestorData();\n\nfunction onInputForm(){\n  const input = formEl.elements.email.value.trim();\n  const textarea = formEl.elements.message.value.trim();\n\n  const data ={\n    email:input,\n    message:textarea,\n  };\n  setItemToLS(localStorageKey, data);\n  };\n\n\nfunction setItemToLS(key, value){\n  const jsonData = JSON.stringify(value);\nlocalStorage.setItem(key, jsonData);\n};\n\nfunction onSabmitForm(e){\n  const email = formEl.elements.email.value.trim();\n  const message = formEl.elements.message.value.trim();\n\n  if (email === '' || message === '') {\n\n  e.preventDefault();\n  }else {\n      console.log({email, message});\n\n          localStorage.removeItem(localStorageKey);\n          formEl.reset();\n        }\n};\n\nfunction getItemFromLS(key){\n    const data = localStorage.getItem(key) || {};\n    try{\n      return JSON.parse(data);\n    } catch {\n      return data;\n    }\n  };\n  \n  function restorData(){\n      const data = getItemFromLS(localStorageKey)|| {};\n    \n      formEl.elements.email.value = data.email || '';\n      formEl.elements.message.value = data.message || '';\n    }\n    \n    restorData();\n\n\n"],"names":["formEl","localStorageKey","onInputForm","onSabmitForm","restorData","input","textarea","setItemToLS","key","value","jsonData","email","message","getItemFromLS","data"],"mappings":"wFAMA,MAAMA,EAAS,SAAS,cAAc,gBAAgB,EAChDC,EAAkB,sBAExBD,EAAO,iBAAiB,QAASE,CAAW,EAC5CF,EAAO,iBAAiB,SAAUG,CAAY,EAE9CC,IAEA,SAASF,GAAa,CACpB,MAAMG,EAAQL,EAAO,SAAS,MAAM,MAAM,OACpCM,EAAWN,EAAO,SAAS,QAAQ,MAAM,OAM/CO,EAAYN,EAJA,CACV,MAAMI,EACN,QAAQC,CACZ,CACmC,CAEnC,CAEA,SAASC,EAAYC,EAAKC,EAAM,CAC9B,MAAMC,EAAW,KAAK,UAAUD,CAAK,EACvC,aAAa,QAAQD,EAAKE,CAAQ,CAClC,CAEA,SAASP,EAAa,EAAE,CACtB,MAAMQ,EAAQX,EAAO,SAAS,MAAM,MAAM,OACpCY,EAAUZ,EAAO,SAAS,QAAQ,MAAM,OAE1CW,IAAU,IAAMC,IAAY,GAEhC,EAAE,eAAc,GAEZ,QAAQ,IAAI,CAAC,MAAAD,EAAO,QAAAC,CAAO,CAAC,EAExB,aAAa,WAAWX,CAAe,EACvCD,EAAO,MAAK,EAEtB,CAEA,SAASa,EAAcL,EAAI,CACvB,MAAMM,EAAO,aAAa,QAAQN,CAAG,GAAK,CAAA,EAC1C,GAAG,CACD,OAAO,KAAK,MAAMM,CAAI,CAC5B,MAAM,CACA,OAAOA,CACR,CAEL,CACE,SAASV,GAAY,CACjB,MAAMU,EAAOD,EAAcZ,CAAe,GAAI,CAAA,EAE9CD,EAAO,SAAS,MAAM,MAAQc,EAAK,OAAS,GAC5Cd,EAAO,SAAS,QAAQ,MAAQc,EAAK,SAAW,EACjD,CAEDV,EAAY"}